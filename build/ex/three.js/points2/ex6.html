<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Simple three.js Points with VR Support - Refactored into Functions</title>
		<style>
			body { margin: 0; }
		</style>
		<script>
			function dropHandler(ev) {
				console.log('File(s) dropped');

				// Prevent default behavior (Prevent file from being opened)
				ev.preventDefault();

				if (ev.dataTransfer.items) {
					// Use DataTransferItemList interface to access the file(s)
					for (var i = 0; i < ev.dataTransfer.items.length; i++) {
						// If dropped items aren't files, reject them
						if (ev.dataTransfer.items[i].kind === 'file') {
							var file = ev.dataTransfer.items[i].getAsFile();
							console.log('... file[' + i + '].name = ' + file.name);
							console.log(`URL: ${URL.createObjectURL(file)}`);
							console.log(`Size: ${file.size}`);
						}
					}
				} else {
					// Use DataTransfer interface to access the file(s)
					for (var i = 0; i < ev.dataTransfer.files.length; i++) {
						console.log('... file[' + i + '].name = ' + ev.dataTransfer.files[i].name);
					}
				}
			}
		</script>
		<script>
			function dragOverHandler(ev) {
				// FIXME: delete this log
				console.log('File(s) in drop zone');

				// Prevent default behavior (Prevent file from being opened)
				ev.preventDefault();
			}
		</script>
	</head>
	<body>
		<div id="drop_zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
			<canvas class="webgl"></canvas>
		</div>
        <script type="module" src="./ex6.js"></script>
	</body>
</html>
